@import 'tailwindcss';

/* 1. Design System Tokens */

@theme {
    /* Light */
    --color-primary-light: hsl(222.2 47.4% 11.2%);
    --color-primary-foreground-light: hsl(210 40% 98%);
    --color-secondary-light: hsl(210 40% 96.1%);
    --color-secondary-foreground-light: hsl(222.2 47.4% 11.2%);
    --color-accent-light: hsl(210 40% 96.1%);
    --color-accent-foreground-light: hsl(222.2 47.4% 11.2%);
    --color-destructive-light: hsl(0 84.2% 60.2%);
    --color-destructive-foreground-light: hsl(210 40% 98%);
    --color-success-light: hsl(142.1 76.2% 36.3%);
    --color-success-foreground-light: hsl(355.7 100% 97.3%);
    --color-warning-light: hsl(32.1 94.6% 43.7%);
    --color-warning-foreground-light: hsl(210 40% 98%);

    --color-background-light: hsl(0 0% 100%);
    --color-foreground-light: hsl(222.2 84% 4.9%);
    --color-card-light: hsl(0 0% 100%);
    --color-card-foreground-light: hsl(222.2 84% 4.9%);
    --color-popover-light: hsl(0 0% 100%);
    --color-popover-foreground-light: hsl(222.2 84% 4.9%);
    --color-muted-light: hsl(210 40% 96.1%);
    --color-muted-foreground-light: hsl(215.4 16.3% 46.9%);
    --color-border-light: hsl(214.3 31.8% 91.4%);
    --color-input-light: hsl(214.3 31.8% 91.4%);
    --color-ring-light: hsl(222.2 84% 4.9%);

    /* Dark */
    --color-primary-dark: hsl(210 40% 98%);
    --color-primary-foreground-dark: hsl(222.2 47.4% 11.2%);
    --color-secondary-dark: hsl(217.2 32.6% 17.5%);
    --color-secondary-foreground-dark: hsl(210 40% 98%);
    --color-accent-dark: hsl(217.2 32.6% 17.5%);
    --color-accent-foreground-dark: hsl(210 40% 98%);
    --color-destructive-dark: hsl(0 62.8% 30.6%);
    --color-destructive-foreground-dark: hsl(210 40% 98%);
    --color-success-dark: hsl(142.1 70.6% 45.3%);
    --color-success-foreground-dark: hsl(144.9 80.4% 10%);
    --color-warning-dark: hsl(32.1 94.6% 43.7%);
    --color-warning-foreground-dark: hsl(20.5 90.2% 48.2%);

    --color-background-dark: hsl(222.2 84% 4.9%);
    --color-foreground-dark: hsl(210 40% 98%);
    --color-card-dark: hsl(222.2 84% 4.9%);
    --color-card-foreground-dark: hsl(210 40% 98%);
    --color-popover-dark: hsl(222.2 84% 4.9%);
    --color-popover-foreground-dark: hsl(210 40% 98%);
    --color-muted-dark: hsl(217.2 32.6% 17.5%);
    --color-muted-foreground-dark: hsl(215 20.2% 65.1%);
    --color-border-dark: hsl(217.2 32.6% 17.5%);
    --color-input-dark: hsl(217.2 32.6% 17.5%);
    --color-ring-dark: hsl(212.7 26.8% 83.9%);

    /* Default to light */
    --color-primary: var(--color-primary-light);
    --color-primary-foreground: var(--color-primary-foreground-light);
    --color-secondary: var(--color-secondary-light);
    --color-secondary-foreground: var(--color-secondary-foreground-light);
    --color-accent: var(--color-accent-light);
    --color-accent-foreground: var(--color-accent-foreground-light);
    --color-destructive: var(--color-destructive-light);
    --color-destructive-foreground: var(--color-destructive-foreground-light);
    --color-success: var(--color-success-light);
    --color-success-foreground: var(--color-success-foreground-light);
    --color-warning: var(--color-warning-light);
    --color-warning-foreground: var(--color-warning-foreground-light);

    --color-background: var(--color-background-light);
    --color-foreground: var(--color-foreground-light);
    --color-card: var(--color-card-light);
    --color-card-foreground: var(--color-card-foreground-light);
    --color-popover: var(--color-popover-light);
    --color-popover-foreground: var(--color-popover-foreground-light);
    --color-muted: var(--color-muted-light);
    --color-muted-foreground: var(--color-muted-foreground-light);
    --color-border: var(--color-border-light);
    --color-input: var(--color-input-light);
    --color-ring: var(--color-ring-light);

    /* Radius */
    --radius-xs: 0.25rem;
    --radius-sm: 0.375rem;
    --radius-md: 0.5rem;
    --radius-lg: 0.75rem;
    --radius-xl: 1rem;

    /* Sidebar */
    --sidebar-width: 16rem;
    --sidebar-width-collapsed: 4rem;
}

/* 2. Runtime Theme Mapping */

@media (prefers-color-scheme: dark) {
    :root {
        --color-primary: var(--color-primary-dark);
        --color-primary-foreground: var(--color-primary-foreground-dark);
        --color-secondary: var(--color-secondary-dark);
        --color-secondary-foreground: var(--color-secondary-foreground-dark);
        --color-accent: var(--color-accent-dark);
        --color-accent-foreground: var(--color-accent-foreground-dark);
        --color-destructive: var(--color-destructive-dark);
        --color-destructive-foreground: var(--color-destructive-foreground-dark);
        --color-success: var(--color-success-dark);
        --color-success-foreground: var(--color-success-foreground-dark);
        --color-warning: var(--color-warning-dark);
        --color-warning-foreground: var(--color-warning-foreground-dark);

        --color-background: var(--color-background-dark);
        --color-foreground: var(--color-foreground-dark);
        --color-card: var(--color-card-dark);
        --color-card-foreground: var(--color-card-foreground-dark);
        --color-popover: var(--color-popover-dark);
        --color-popover-foreground: var(--color-popover-foreground-dark);
        --color-muted: var(--color-muted-dark);
        --color-muted-foreground: var(--color-muted-foreground-dark);
        --color-border: var(--color-border-dark);
        --color-input: var(--color-input-dark);
        --color-ring: var(--color-ring-dark);
    }
}

/* 3. Base Styles */

* {
    @apply antialiased;
}

body {
    @apply bg-background text-foreground;
    font-feature-settings: "rlig" 1, "calt" 1;
    font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Text', 'SF Pro Display',
        'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
}

/* 4. Glassmorphism Utilities */

.glass {
    /* Default to light */
    background: rgba(255, 255, 255, 0.7);
    border: 1px solid rgba(255, 255, 255, 0.18);
    /* FIXME: chrome work is bug */
    backdrop-filter: blur(20px) saturate(180%);
    transform: translateZ(0);
    will-change: backdrop-filter;
}

@media (prefers-color-scheme: dark) {
    .glass {
        background: rgba(30, 30, 46, 0.7);
        border: 1px solid rgba(255, 255, 255, 0.1);
    }
}

.glass-card {
    background: rgba(255, 255, 255, 0.6);
    border: 1px solid rgba(255, 255, 255, 0.2);
    /* FIXME: chrome work is bug */
    backdrop-filter: blur(12px) saturate(180%);
    transform: translateZ(0);
    will-change: backdrop-filter;
}

@media (prefers-color-scheme: dark) {
    .glass-card {
        background: rgba(30, 30, 46, 0.6);
        border: 1px solid rgba(255, 255, 255, 0.12);
    }
}

.glass-strong {
    background: rgba(255, 255, 255, 0.5);
    border: 1px solid rgba(255, 255, 255, 0.3);
    backdrop-filter: blur(30px) saturate(200%);
    transform: translateZ(0);
    will-change: backdrop-filter;
}

@media (prefers-color-scheme: dark) {
    .glass-strong {
        background: rgba(30, 30, 46, 0.5);
        border: 1px solid rgba(255, 255, 255, 0.15);
    }
}

/* 5. Animations */

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(10px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes slideIn {
    from {
        transform: translateX(-100%);
    }

    to {
        transform: translateX(0);
    }
}

@keyframes slideUp {
    from {
        transform: translateY(100%);
    }

    to {
        transform: translateY(0);
    }
}

@keyframes scaleIn {
    from {
        transform: scale(0.9);
        opacity: 0;
    }

    to {
        transform: scale(1);
        opacity: 1;
    }
}

@keyframes spin {
    to {
        transform: rotate(360deg);
    }
}

.fade-in {
    animation: fadeIn 0.3s ease-out;
}

.slide-in {
    animation: slideIn 0.3s ease-out;
}

.slide-up {
    animation: slideUp 0.3s ease-out;
}

.scale-in {
    animation: scaleIn 0.2s cubic-bezier(0.16, 1, 0.3, 1);
}

.animate-spin {
    animation: spin 1s linear infinite;
}


/* 6. Scrollbar Styling - macOS style */

::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

::-webkit-scrollbar-track {
    background: transparent;
}

::-webkit-scrollbar-thumb {
    background: rgba(0, 0, 0, 0.2);
    border-radius: 10px;
}

::-webkit-scrollbar-thumb:hover {
    background: rgba(0, 0, 0, 0.3);
}

@media (prefers-color-scheme: dark) {
    ::-webkit-scrollbar-thumb {
        background: rgba(255, 255, 255, 0.2);
    }

    ::-webkit-scrollbar-thumb:hover {
        background: rgba(255, 255, 255, 0.3);
    }
}

/* 7. Dock Styles */

.dock-item {
    @apply transition-all duration-200 ease-out;
}

.dock-item:hover {
    transform: translateY(-8px) scale(1.1);
}

/* 8. Window Shadow - macOS style */

.window-shadow {
    box-shadow:
        0 25px 50px -12px rgba(0, 0, 0, 0.25),
        0 0 0 1px rgba(0, 0, 0, 0.05);
}

@media (prefers-color-scheme: dark) {
    .window-shadow {
        box-shadow:
            0 25px 50px -12px rgba(0, 0, 0, 0.5),
            0 0 0 1px rgba(255, 255, 255, 0.1);
    }
}